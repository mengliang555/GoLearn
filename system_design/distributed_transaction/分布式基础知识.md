# 分布式基础知识
- 产生原因：
  - 当架构由单体向多服务演进时，整个系统的可靠性变得难以控制
  - 在微服务中，从请求到响应，之间可能跨越多台服务器，多个数据库
- 分布式事务的概念
  - 是指会涉及到操作多个数据库的事务
  - 目的是为了保证分布式系统中的数据一致性
  - 全局事务：是指分布式事务处理环境中，多个数据库可能需要共同完成一个工作，这个工作即是一个全局事务
- 分布式事务处理的关键
  - 必须有一种方法可以知道事务在任何地方所做的所有动作
  - 提交或回滚事务的决定必须产生统一的结果：全部提交或全部回滚
- XA规范
  - X/Open 组织（即现在的 Open Group ）定义了分布式事务处理模型。 包括三个组件：AP,TM,RM 和两个协议：XA,TX。
  - AP(Application Program)：也就是应用程序，可以理解为使用DTP（Distributed Transaction Processing）的程序。
  - RM(Resource Manager)：资源管理器，这里可以理解为一个DBMS系统，或者消息服务器管理系统，应用程序通过资源管理器对资源进行控制。
  - TM(Transaction Manager)：事务管理器，负责协调和管理事务，提供给AP应用程序编程接口以及管理资源管理器。
  - XA协议：应用或应用服务器与事务管理之间通信的接口。
  - TX协议：全局事务管理器与资源管理器之间通信的接口。
  - 一般来说：常见的事务管理器（ TM ）是交易中间件，常见的资源管理器（ RM ）是数据库，常见的通信资源管理器（ CRM ）是消息中间件。 